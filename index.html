<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
  <title>TON Survivor: Boinkers</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <style>
    :root {
      --bg: #1a1a2e;
      --accent: #ff6b6b;
      --gold: #ffd93d;
      --blue: #4ecdc4;
      --dark: #16213e;
    }
    * { margin:0; padding:0; box-sizing:border-box; font-family:'Comic Sans MS', cursive; }
    body { background:var(--bg); color:white; overflow:hidden; height:100vh; }
    .container { padding:10px; text-align:center; }
    .header { display:flex; justify-content:space-between; align-items:center; background:var(--dark); padding:10px; border-radius:15px; margin-bottom:10px; }
    .user { display:flex; align-items:center; gap:10px; }
    .user-avatar { font-size:40px; } /* Ğ¢Ğ¾Ğ½Ğ¸-Ñ‘Ğ¶Ğ¸Ğº */
    .stats { display:flex; gap:15px; font-weight:bold; }
    .stats div { background:var(--accent); padding:5px 10px; border-radius:10px; font-size:14px; }

    .boinkers { position:relative; margin:20px 0; font-size:24px; } /* Ğ¨Ğ°Ñ‚Ñ‘Ñ€ */
    .boinkers::before { content: 'ğŸª'; animation: bounce 2s infinite; }
    @keyframes bounce { 0%, 100% { transform: scale(1); } 50% { transform: scale(1.05); } }
    .leaderboard { background:#000; color:#ffd93d; padding:5px 15px; border-radius:20px; font-weight:bold; display:inline-block; margin-top:10px; }

    .slot-machine { background:#0f3460; border:8px solid #4ecdc4; border-radius:20px; padding:15px; margin:15px 0; }
    .reels { display:flex; justify-content:center; gap:10px; margin:15px 0; }
    .reel { width:70px; height:70px; background:#16213e; border-radius:15px; font-size:40px; display:flex; align-items:center; justify-content:center; transition: transform 0.3s; }
    .reel.spin { animation: spin 0.5s ease-in-out; }
    @keyframes spin { 0% { transform: rotateY(0deg); } 100% { transform: rotateY(360deg); } }

    .progress { height:20px; background:#16213e; border-radius:10px; overflow:hidden; margin:10px 0; }
    .fill { height:100%; width:68%; background:linear-gradient(90deg, #4ecdc4, #ffd93d); transition: width 0.3s; }

    .events { display:grid; grid-template-columns:repeat(3,1fr); gap:8px; margin:15px 0; font-size:12px; }
    .event { background:var(--dark); padding:8px; border-radius:12px; }
    .event-emoji { font-size:30px; display:block; margin-bottom:5px; }

    .spin-btn { 
      background:linear-gradient(45deg, #ffd93d, #ff6b6b); 
      color:#000; font-weight:bold; font-size:20px; 
      padding:15px 30px; border-radius:50px; border:none; 
      margin:10px; box-shadow:0 5px 15px rgba(255,215,61,0.4); cursor:pointer;
    }
    .spin-btn:active { transform: scale(0.95); }
    .bottom-nav { position:fixed; bottom:0; left:0; right:0; background:var(--dark); display:flex; justify-content:space-around; padding:10px 0; }
    .nav-item { text-align:center; font-size:12px; }
    .nav-item-emoji { font-size:30px; display:block; }
  </style>
</head>
<body>
  <div class="container">

    <!-- HEADER -->
    <div class="header">
      <div class="user">
        <div class="user-avatar">ğŸ¦”</div> <!-- Ğ¢Ğ¾Ğ½Ğ¸ -->
        <div>
          <div>Toni the Hedgecoin</div>
          <small>Ğ£Ñ€Ğ¾Ğ²ĞµĞ½ÑŒ 63</small>
        </div>
      </div>
      <div class="stats">
        <div id="ton">ğŸª™ 36.66M</div>
        <div id="cash">ğŸ’° 376</div>
        <div id="energy">âš¡ 50/50</div>
      </div>
    </div>

    <!-- BOINKERS TENT -->
    <div class="boinkers">
      <div class="leaderboard">Erlna 5.3M</div>
    </div>

    <!-- SLOT MACHINE -->
    <div class="slot-machine">
      <div class="reels">
        <div class="reel" id="reel1">ğŸ¥«</div>
        <div class="reel" id="reel2">ğŸ›¡ï¸</div>
        <div class="reel" id="reel3">ğŸ’°</div>
      </div>
      <div class="progress"><div class="fill" id="progress-fill"></div></div>
      <div style="display:flex; justify-content:space-between; font-size:14px;">
        <span>FREE PASS</span>
        <span id="free-pass">68/100</span>
      </div>
    </div>

    <!-- EVENTS (Ñ ÑĞ¼Ğ¾Ğ´Ğ·Ğ¸ ĞºĞ°Ğº Ğ¸Ğ·Ğ¾Ğ±Ñ€Ğ°Ğ¶ĞµĞ½Ğ¸Ñ) -->
    <div class="events">
      <div class="event">
        <div class="event-emoji">ğŸ‘»</div> SCARECROWS<br><small id="scarecrow-timer">02:00:33</small>
      </div>
      <div class="event">
        <div class="event-emoji">ğŸ§Ÿ</div> MUMMY<br><small id="mummy-timer">05:23:33</small>
      </div>
      <div class="event">
        <div class="event-emoji">ğŸ°</div> HAUNTED<br><small id="haunted-timer">01:36:33</small>
      </div>
      <div class="event">
        <div class="event-emoji">ğŸ¬</div> CANDY BAG<br><small id="candy-timer">02:00:33</small>
      </div>
      <div class="event">
        <div class="event-emoji">â­</div> STAR<br><small id="star-timer">12:00:33</small>
      </div>
      <div class="event">
        <div class="event-emoji">ğŸƒ</div> LET'S<br><small id="lets-timer">13:00:00</small>
      </div>
    </div>

    <!-- SPIN BUTTONS -->
    <button class="spin-btn" onclick="spinSingle()">ĞšĞ Ğ£Ğ¢Ğ˜Ğ¢Ğ¬ ĞĞ”Ğ˜ĞĞĞ§ĞšĞ£</button>
    <button class="spin-btn" style="background:#ff6b6b;" onclick="startAutoSpin()">ĞšĞ Ğ£Ğ¢Ğ˜Ğ¢Ğ¬ Ğ’Ğ¡Ğ</button>
    <div id="result" style="margin:10px; font-size:18px; color:#ffd93d;"></div>

    <!-- BOTTOM NAV -->
    <div class="bottom-nav">
      <div class="nav-item"><div class="nav-item-emoji">ğŸŒ•</div>Moon</div>
      <div class="nav-item"><div class="nav-item-emoji">ğŸªª</div>Stickers</div>
      <div class="nav-item"><div class="nav-item-emoji">ğŸ¡</div>Wheel</div>
      <div class="nav-item"><div class="nav-item-emoji">ğŸ’µ</div>Ğ—Ğ°Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°Ñ‚ÑŒ</div>
    </div>
  </div>

  <script>
    // Telegram init
    if (typeof Telegram !== 'undefined') {
      Telegram.WebApp.ready();
      Telegram.WebApp.expand();
    }

    const symbols = ['ğŸ¥«', 'ğŸ›¡ï¸', 'ğŸ’°', 'âš¡', 'ğŸ¯', 'ğŸ‘»', 'ğŸ’'];
    let autoInterval = null;

    function spinSingle() {
      if (getEnergy() < 1) { showResult('ĞĞµÑ‚ ÑĞ½ĞµÑ€Ğ³Ğ¸Ğ¸!'); return; }
      spinReels();
      updateEnergy(-1);
      setTimeout(checkWin, 600);
    }

    function startAutoSpin() {
      if (autoInterval) { clearInterval(autoInterval); autoInterval = null; showResult('ĞĞ²Ñ‚Ğ¾ Ğ¾ÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¾'); return; }
      autoInterval = setInterval(() => {
        if (getEnergy() < 1) { clearInterval(autoInterval); autoInterval = null; showResult('Ğ­Ğ½ĞµÑ€Ğ³Ğ¸Ñ ĞºĞ¾Ğ½Ñ‡Ğ¸Ğ»Ğ°ÑÑŒ'); return; }
        spinReels();
        updateEnergy(-1);
        setTimeout(checkWin, 600);
      }, 1000);
      showResult('ĞĞ²Ñ‚Ğ¾ Ğ·Ğ°Ğ¿ÑƒÑ‰ĞµĞ½Ğ¾!');
    }

    function spinReels() {
      const reels = ['reel1', 'reel2', 'reel3'];
      reels.forEach((id, i) => {
        const reel = document.getElementById(id);
        reel.classList.add('spin');
        setTimeout(() => {
          reel.textContent = symbols[Math.floor(Math.random() * symbols.length)];
          reel.classList.remove('spin');
        }, (i + 1) * 200);
      });
    }

    function checkWin() {
      const r1 = document.getElementById('reel1').textContent;
      const r2 = document.getElementById('reel2').textContent;
      const r3 = document.getElementById('reel3').textContent;
      if (r1 === r2 && r2 === r3) {
        let bonus = r1 === 'ğŸ’°' ? 10 : r1 === 'ğŸ’' ? 100 : 5;
        updateTon(bonus);
        showResult(`Ğ”Ğ¶ĞµĞºĞ¿Ğ¾Ñ‚! +${bonus} TON!`);
      } else {
        showResult('ĞĞµ Ğ¿Ğ¾Ğ²ĞµĞ·Ğ»Ğ¾...');
      }
    }

    function updateTon(delta) {
      let current = parseFloat(document.getElementById('ton').textContent.match(/(\d+\.?\d*)/)[0]);
      document.getElementById('ton').textContent = `ğŸª™ ${(current + delta).toFixed(2)}M`;
    }

    function getEnergy() {
      return parseInt(document.getElementById('energy').textContent.match(/(\d+)\/(\d+)/)[1]);
    }

    function updateEnergy(delta) {
      let [current, max] = document.getElementById('energy').textContent.match(/(\d+)\/(\d+)/).slice(1).map(Number);
      current = Math.max(0, Math.min(max, current + delta));
      document.getElementById('energy').textContent = `âš¡ ${current}/${max}`;
      if (current < max) setTimeout(() => updateEnergy(1), 5000); // Ğ ĞµĞ³ĞµĞ½
    }

    function showResult(msg) {
      const el = document.getElementById('result');
      el.textContent = msg;
      setTimeout(() => el.textContent = '', 3000);
    }

    // Ğ¢Ğ°Ğ¹Ğ¼ĞµÑ€Ñ‹
    const timers = {
      'scarecrow-timer': {h:2,m:0,s:33}, 'mummy-timer': {h:5,m:23,s:33},
      'haunted-timer': {h:1,m:36,s:33}, 'candy-timer': {h:2,m:0,s:33},
      'star-timer': {h:12,m:0,s:33}, 'lets-timer': {h:13,m:0,s:0}
    };
    function updateTimers() {
      Object.entries(timers).forEach(([id, t]) => {
        if (t.s > 0 || t.m > 0 || t.h > 0) {
          t.s--; if (t.s < 0) { t.s=59; t.m--; } if (t.m < 0) { t.m=59; t.h--; }
          document.getElementById(id).textContent = `${t.h.toString().padStart(2,'0')}:${t.m.toString().padStart(2,'0')}:${t.s.toString().padStart(2,'0')}`;
        }
      });
    }
    setInterval(updateTimers, 1000);

    // ĞŸÑ€Ğ¾Ğ³Ñ€ĞµÑÑ
    setInterval(() => {
      let w = parseInt(document.getElementById('progress-fill').style.width) || 68;
      w = (w + 1) % 100;
      document.getElementById('progress-fill').style.width = w + '%';
      document.getElementById('free-pass').textContent = `${w}/100`;
    }, 2000);
  </script>
</body>
</html>